# 软件测试  

作者：喻柄文

> 沉淀、分享、成长，让自己和他人都能有所收获！😄  



## 前言  

` 不踩些坑，根本不是成熟的码农`



## 分类

1.按是否查看程序内部结构分为：

* 黑盒测试：只关心输入和输出的结果

* 白盒测试：去研究里面的源代码和程序结构

* 灰盒测试：介于黑盒测试和白盒测试两者之间  

  

注：白盒测试是针对代码层面去测试，需要了解程序的内部结构和源代码。黑盒测试是不用了解代码也能进行测试，只关注输入和输出的正确性。灰盒测试是介于白盒测试与黑盒测试之间的一种测试，既要考虑产品设计要求，又考虑到功能实现的效果，同时也关注程序内部的情况。  



2.按软件开发阶段分为：

* 单元测试：对软件的最小可测单元进行测试
* 集成测试：对已经通过单元测试的模块进行组合和连接测试
* 系统测试：将软件系统看成是一个系统的测试
* 验收测试：在交付给用户之前，由用户或第三方机构进行的最终检验



3.按是否使用工具分为：

* 手工测试：人工地执行用例和观察结果
* 自动化测试：使用工具来执行或辅助执行测试用例和记录结果



4.根据功能性和非功能性分为：

* 功能测试
* 性能测试
* 可用性测试
* 压力测试



## 黑盒测试

黑盒测试最常用的方法有以下几种：

* 等价类划分法：将输入或输出数据划分为若干等价类，每个等价类中的数据具有相似或相同的特征，对于同一个等价类中任意一个数据，程序应该产生相同或相似的结果。只需从每个等价类中选取少数代表性数据作为测试用例即可。  

  

    举例：假设有一个程序，要求输入一个年龄，范围是0到120岁，然后根据年龄判断是儿童、青年、中年还是老年。

  那么，我们可以把输入数据划分为以下几个等价类：

  - 有效等价类：0<=年龄<=120
  - 无效等价类：年龄<0
  - 无效等价类：年龄>120

  从每个等价类中选取代表性的数据作为测试用例，例如：

  - 有效等价类：选择0、10、20、40、60、80、100和120作为测试用例。
  - 无效等价类：选择-1和-100作为测试用例。
  - 无效等价类：选择121和200作为测试用例。

  这样就得到了12个测试用例，覆盖了所有可能的输入情况。  

  

* 边界值分析法：在等价类划分的基础上，重点考察输入或输出数据在边界处是否能正常工作。边界值通常包括最大值，最小值，上下边界，无效边界等等。    

  

  举例：假设有一个程序，要求输入一个月份，范围是1到12，然后根据月份输出对应的季节。

  那么，我们可以把输入数据划分为以下几个边界值：

  - 有效边界值：1、12
  - 无效边界值：0、13

  从每个边界值中选取数据作为测试用例，例如：

  - 有效边界值：选择1和12作为测试用例。
  - 无效边界值：选择0和13作为测试用例。

  这样就得到了4个测试用例，覆盖了所有可能的输入情况。   

  

* 错误推测法：根据经验或直觉推测可能出现错误的地方，并针对这些地方设计测试用例。这种方法依赖于测试人员对软件产品和开发过程的了解程度，没有固定规则可循。

* 因果图法：利用图形符号表示输入条件与输出条件的因果关系，并根据图形符号生成决策表，再根据决策表生成测试用例。这种方法可以系统地描述复杂逻辑关系，并避免遗漏重要条件。  

   

  ## 白盒测试

  白盒测试最常用的方法有以下几种：

  - 代码检查法：通过人工或工具对源代码进行逐行检查，发现错误或缺陷。

  - 静态结构分析法：通过分析程序的控制流程图、数据流程图等，检查程序的结构完整性、可维护性和可读性。

  - 静态质量度量法：通过计算程序的一些质量指标，如圈复杂度、扇出数等，评估程序的复杂度和风险。

  - 逻辑覆盖法：通过选择不同的逻辑条件或分支来覆盖程序的所有可能路径，检查程序的正确性和完备性。  

    * 语句覆盖

    * 判定覆盖

    * 条件覆盖

    * 条件组合覆盖

    * 路径覆盖  

      

      注：一般来说，路径覆盖最强，语句覆盖最弱  

         

      举例：  

      ```
      public int foo(int a,int b) {
        return a /b;
      }
      ```

      如果使用语句覆盖法，只需要执行一次程序即可，因为只有一跳可执行语句。

      如果使用判定覆盖法，则需要考虑到除数为0和非0两种情况，因此需要设计两个测试用例：a=1,b=0和a=1,b=1。

      如果使用条件组合覆盖法，则需要考虑到a和b分别为正数，负数或0的八种情况，因此需要设计8个测试用例：a>0,b>0;  a>0,b<0;  a>0,b=0;  a<0,b>0;  a<0,b<0;  a<0,b=0;  a=0,b>0;  a=0,b<0;  

        

  - 基本路径测试法：通过计算程序的基本路径数和基本路径集合，选择代表性的路径来测试程序。

  - 域测试：通过分析输入数据或输出结果的取值范围和边界条件，选择特殊值或边界值来测试程序。

  - 符号测试：通过将输入数据或输出结果用符号表示，建立约束方程组，求解方程组得到具体值来测试程序。

  - 路径覆盖和程序变异：通过对源代码进行有限次数的修改（变异），产生不同版本的程序（变异体），比较原始版本和变异版本在相同输入下的输出结果，检测是否存在故障。  

    ​    

    ## 单元测试

    单元测试是指对软件中的最小可测试单元进行检查和验证的测试工作。最小可测试单元通常是指函数或者类。单元测试是所有测试中最底层的一类测试，也是最重要的一个环节，它可以保证代码覆盖率达到100%，防止后期出现bug过多的情况。

    